(function(){angular.module("ionic.rating",[]).constant("ratingConfig",{max:5}).controller("RatingController",function(n,e,i){var r;return r={$setViewValue:angular.noop},this.init=function(t){var a;return r=t,r.$render=this.render,a=angular.isDefined(e.max)?n.$parent.$eval(e.max):i.max,n.range=this.buildTemplateObjects(r.$modelValue,a)},this.buildTemplateObjects=function(n,e){var i,r=[];for(i=0;e>i;i++)n>i&&i+1>n?r[i]=2:n>i?r[i]=1:r[i]=0;return r},n.rate=function(e){return!n.readonly&&e>=0&&e<=n.range.length?(r.$setViewValue(e),r.$render()):void 0},n.onKeydown=function(e){return/(37|38|39|40)/.test(e.which)?(e.preventDefault(),e.stopPropagation(),n.rate(n.value+(38===e.which||39===e.which?{1:-1}:void 0))):void 0},this.render=function(){return n.value=r.$viewValue},this}).directive("rating",function(n){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?"},controller:"RatingController",template:'<ul class="rating" ng-keydown="onKeydown($event)">'+"<li ng-repeat=\"r in range track by $index\" ng-click=\"rate($index + 1)\"><i class=\"icon\" ng-class=\"value === undefined ? (r === 1 ? 'ion-ios-star' : (r === 2 ? 'ion-ios-star-half' : 'ion-ios-star-outline')) : (value > $index ? (value < $index+1 ? 'ion-ios-star-half' : 'ion-ios-star') : 'ion-ios-star-outline')\"></i></li></ul>",replace:!0,link:function(e,i,r,t){var a,o;o=t[0],a=t[1],a&&n(function(){return o.init(a)})}}})}).call(this);